{% extends 'base.html' %}

{% block title %}Clase & Orar - Admin{% endblock %}

{% block content %}
<div class="container py-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h5 class="mb-0">Clase</h5>
    <a href="{% url 'schedule:class_create' %}" class="btn btn-primary"><i class="fas fa-plus me-1"></i>Clasă nouă</a>
  </div>

  <div class="card shadow-sm">
    <div class="table-responsive">
      <table class="table table-striped mb-0">
        <thead>
          <tr>
            <th>Clasa</th>
            <th>Școala</th>
            <th>Diriginte</th>
            <th>Acțiuni</th>
          </tr>
        </thead>
        <tbody>
          {% for c in classes %}
          <tr>
            <td class="fw-semibold">{{ c.nume }}</td>
            <td>{{ c.scoala|default:'-' }}</td>
            <td>{{ c.diriginte.get_full_name|default:c.diriginte.username|default:'-' }}</td>
            <td>
              <a class="btn btn-sm btn-outline-secondary" href="{% url 'schedule:class_schedule' c.id %}"><i class="fas fa-calendar me-1"></i>Orar</a>
              <a class="btn btn-sm btn-outline-primary" href="{% url 'schedule:class_edit' c.id %}"><i class="fas fa-edit me-1"></i>Edit</a>
              <form method="post" action="{% url 'schedule:class_delete' c.id %}" class="d-inline">
                {% csrf_token %}
                <button class="btn btn-sm btn-outline-danger" onclick="return confirm('Ștergi clasa?');"><i class="fas fa-trash me-1"></i>Șterge</button>
              </form>
            </td>
          </tr>
          {% empty %}
          <tr><td colspan="4" class="text-muted">Nu există clase definite.</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}


